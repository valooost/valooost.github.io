<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="icon" type="image/png" href="/assets/pixelrocket.png">
  <meta charset="UTF-8">
  <title>Home | valooost</title>
  <style>
    html, body {
      height: 100%;
    }
    body {
      font-family: sans-serif;
      text-align: center;
      background: #f8f8f8;
      margin: 0;
      padding-top: 50px;
      cursor: url('/assets/pixel.cur'), default;
    }

    a {
      cursor: url('/assets/link.cur'), pointer;
    }


    .link-button {
      display: block;
      color: white;
      text-decoration: none;
      font-size: 1.1em;
      border-radius: 10px;
      padding: 15px 30px;
      margin: 20px auto;
      width: 220px;
      background: #004d00;
      transition: background 0.3s, transform 0.1s;
      cursor: url('/assets/link.cur'), pointer;
    }

    .link-button:hover {
      background: #006600;
      transform: scale(0.95);
    }
  </style>
</head>
<body>

  <h1 style="color:#004d00; font-size:50px;">Welcome to my Website!</h1>
  <p style="font-size:25px">Hi, I'm valooost!</p>
  <p style="font-size:25px">This is a simple website to show some of my projects and interests.</p>
  <p style="font-size:25px">Feel free to explore and contact me if you have any questions!</p>
  <p style="font-size:25px">Thanks for visiting!<br> </p>
  
  <p style="font-size:25px">Projects:</p>
  
  <a href="https://valooost.is-a.dev/robux" class="link-button" target="_blank">Need some Robux?</a>
  <a href="https://valooost.is-a.dev/dumb-facts/" class="link-button" target="_self">Fun facts for conversations</a>
  <a href="https://valooost.is-a.dev/memes" class="link-button" target="_self">Free Memes!</a>

  <p style="font-size:25px"> <br> </p>



  <!-- Visitor Counter -->
  <div style="margin: 30px 0; padding: 15px; background: #e8e8e8; border-radius: 10px; max-width: 300px; margin: 30px auto;">
    <h3 style="color: #004d00; margin: 0 0 10px 0;">Copilot's Visitor Counter</h3>
    <p style="font-size: 20px; margin: 0; color: #004d00;">     
      ðŸ‘¥ <span id="visitorCount">Loading...</span> visitors
    </p>
    <p style="font-size: 12px; margin: 5px 0 0 0; color: #666;">
      You are visitor #<span id="currentVisitor">...</span>
    </p>



  <p style="font-size:25px"> <br> </p>


  <p style="font-size:15px">Copyright infringement?</p>
  <a href="https://github.com/valooost/valooost.github.io/discussions/6" class="link-button" target="_self">Copyright Discussion</a>

  <script>
    // ROBUST visitor counter with multiple fallback methods
    async function updateVisitorCounter() {
      const countElement = document.getElementById('visitorCount');
      const currentElement = document.getElementById('currentVisitor');
      const orientationElement = document.getElementById('orientation');
      const rotationElement = document.getElementById('rotation');
      
      // Method 1: Try CountAPI.xyz (most reliable)
      try {
        console.log('Attempting CountAPI...');
        const response = await fetch('https://api.countapi.xyz/hit/valooost.github.io/visits');
        
        if (!response.ok) {
          throw new Error(`HTTP ${response.status}: ${response.statusText}`);
        }
        
        const data = await response.json();
        console.log('CountAPI response:', data);
        
        if (data && data.value) {
          countElement.textContent = data.value.toLocaleString();
          currentElement.textContent = data.value;
          
          // Success animation
          countElement.style.transform = 'scale(1.1)';
          countElement.style.color = '#006600';
          setTimeout(() => {
            countElement.style.transform = 'scale(1)';
            countElement.style.color = '#004d00';
          }, 200);
          
          console.log('Counter updated successfully!');
          return; // Exit if successful
        }
      } catch (error) {
        console.error('CountAPI failed:', error.message);
      }
      
      // Method 2: Fallback to localStorage counter
      console.log('Using localStorage fallback...');
      let visitorCount = localStorage.getItem('valooost_visitor_count');
      let hasVisited = localStorage.getItem('valooost_has_visited_today');
      let today = new Date().toDateString();
      let lastVisit = localStorage.getItem('valooost_last_visit');
      
      if (!visitorCount) {
        visitorCount = Math.floor(Math.random() * 50) + 100; // Start with random base
      } else {
        visitorCount = parseInt(visitorCount);
      }
      
      // Only increment once per day per browser
      if (lastVisit !== today || !hasVisited) {
        visitorCount += 1;
        localStorage.setItem('valooost_visitor_count', visitorCount);
        localStorage.setItem('valooost_has_visited_today', 'true');
        localStorage.setItem('valooost_last_visit', today);
        localStorage.setItem('valooost_current_visitor', visitorCount);
      }
      
      let currentVisitorNumber = localStorage.getItem('valooost_current_visitor') || visitorCount;
      
      countElement.textContent = visitorCount.toLocaleString() + ' (local)';
      currentElement.textContent = currentVisitorNumber;
      
      // Update device orientation
      updateOrientation();
    }

    // Device Orientation Detection
    function updateOrientation() {
      const orientationElement = document.getElementById('orientation');
      const rotationElement = document.getElementById('rotation');
      
      if (!orientationElement || !rotationElement) {
        console.log('Orientation elements not found');
        return;
      }
      
      let orientationText = 'Unknown';
      let rotationDegrees = 0;
      
      // Check screen orientation
      if (screen.orientation) {
        const angle = screen.orientation.angle;
        const type = screen.orientation.type;
        rotationDegrees = angle;
        
        if (type.includes('portrait')) {
          orientationText = angle === 0 ? 'Portrait' : 'Portrait (upside down)';
        } else if (type.includes('landscape')) {
          orientationText = angle === 90 ? 'Landscape (left)' : 'Landscape (right)';
        }
      } else if (typeof window.orientation !== 'undefined') {
        rotationDegrees = window.orientation;
        switch (window.orientation) {
          case 0: orientationText = 'Portrait'; break;
          case 90: orientationText = 'Landscape (left)'; break;
          case -90:
          case 270: orientationText = 'Landscape (right)'; break;
          case 180: orientationText = 'Portrait (upside down)'; break;
        }
      } else {
        orientationText = window.innerHeight > window.innerWidth ? 'Portrait (estimated)' : 'Landscape (estimated)';
      }
      
      orientationElement.textContent = orientationText;
      rotationElement.textContent = rotationDegrees + 'Â°';
      
      if (orientationText.includes('Portrait')) {
        orientationElement.style.color = '#004d00';
      } else if (orientationText.includes('Landscape')) {
        orientationElement.style.color = '#0066cc';
      }
    }
    
    // Initialize everything
    document.addEventListener('DOMContentLoaded', function() {
      console.log('Page loaded, initializing counter...');
      updateVisitorCounter();
      
      // Listen for orientation changes
      window.addEventListener('orientationchange', () => setTimeout(updateOrientation, 100));
      window.addEventListener('resize', updateOrientation);
    });
  </script>

</body>
</html>
