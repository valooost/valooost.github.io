<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="icon" type="image/png" href="/assets/pixelrocket.png">
  <meta charset="UTF-8">
  <title>Home | valooost</title>
  <style>
    html, body {
      height: 100%;
    }
    body {
      font-family: sans-serif;
      text-align: center;
      background: #f8f8f8;
      margin: 0;
      padding-top: 50px;
      cursor: url('/assets/pixel.cur'), default;
    }

    a {
      cursor: url('/assets/link.cur'), pointer;
    }


    .link-button {
      display: block;
      color: white;
      text-decoration: none;
      font-size: 1.1em;
      border-radius: 10px;
      padding: 15px 30px;
      margin: 20px auto;
      width: 220px;
      background: #004d00;
      transition: background 0.3s, transform 0.1s;
      cursor: url('/assets/link.cur'), pointer;
    }

    .link-button:hover {
      background: #006600;
      transform: scale(0.95);
    }
  </style>
</head>
<body>

  <h1 style="color:#004d00; font-size:50px;">Welcome to my Website!</h1>
  <p style="font-size:25px">Hi, I'm valooost!</p>
  <p style="font-size:25px">This is a simple website to show some of my projects and interests.</p>
  <p style="font-size:25px">Feel free to explore and contact me if you have any questions!</p>
  <p style="font-size:25px">Thanks for visiting!<br> </p>
  
  <p style="font-size:25px">Projects:</p>
  
  <a href="https://valooost.is-a.dev/robux" class="link-button" target="_blank">Need some Robux?</a>
  <a href="https://valooost.is-a.dev/dumb-facts/" class="link-button" target="_self">Fun facts for conversations</a>
  <a href="https://valooost.is-a.dev/memes" class="link-button" target="_self">Free Memes!</a>

  <p style="font-size:25px"> <br> </p>



  <!-- Visitor Counter -->
  <div style="margin: 30px 0; padding: 15px; background: #e8e8e8; border-radius: 10px; max-width: 300px; margin: 30px auto;">
    <h3 style="color: #004d00; margin: 0 0 10px 0;">Information base</h3>
    <p style="font-size: 20px; margin: 0; color: #004d00;">     
      ðŸ‘¥ <span id="visitorCount">Loading...</span> visitors
    </p>
    <p style="font-size: 12px; margin: 5px 0 0 0; color: #666;">
      You are visitor #<span id="currentVisitor">...</span>
    </p>


  <p style="font-size:20px"> Contact me via Discord: valooost</p>

  <p style="font-size:25px"> <br> </p>


  <p style="font-size:15px">Copyright infringement?</p>
  <a href="https://github.com/valooost/valooost.github.io/discussions/6" class="link-button" target="_self">Copyright Discussion</a>

  <script>
    // ROBUST GLOBAL VISITOR COUNTER with multiple fallbacks
    async function updateVisitorCounter() {
      const countElement = document.getElementById('visitorCount');
      const currentElement = document.getElementById('currentVisitor');
      
      // Method 1: Try CountAPI.xyz
      try {
        console.log('Trying CountAPI.xyz...');
        const response = await fetch('https://api.countapi.xyz/hit/valooost-global/total-visits', {
          method: 'GET',
          headers: { 'Accept': 'application/json' }
        });
        
        if (response.ok) {
          const data = await response.json();
          console.log('CountAPI.xyz success:', data);
          
          if (data && typeof data.value === 'number') {
            countElement.textContent = data.value.toLocaleString();
            currentElement.textContent = data.value;
            console.log('âœ… Global counter working! Total visitors:', data.value);
            return;
          }
        }
        console.log('CountAPI.xyz failed with status:', response.status);
      } catch (error) {
        console.log('CountAPI.xyz error:', error.message);
      }
      
      // Method 2: Try different CountAPI endpoint
      try {
        console.log('Trying alternative CountAPI endpoint...');
        const response = await fetch('https://api.countapi.xyz/create?namespace=valooost&key=visits&value=1');
        
        if (response.ok) {
          const data = await response.json();
          if (data && typeof data.value === 'number') {
            countElement.textContent = data.value.toLocaleString();
            currentElement.textContent = data.value;
            console.log('âœ… Alternative API working!');
            return;
          }
        }
      } catch (error) {
        console.log('Alternative API failed:', error.message);
      }
      
      // Method 3: Smart localStorage fallback that simulates global counter
      console.log('Using smart localStorage fallback...');
      
      // Get or create a base timestamp to make it feel more "global"
      let baseTime = localStorage.getItem('valooost_base_time');
      if (!baseTime) {
        baseTime = Date.now();
        localStorage.setItem('valooost_base_time', baseTime);
      }
      
      // Create a pseudo-global count based on time and some randomness
      const timeDiff = Math.floor((Date.now() - parseInt(baseTime)) / (1000 * 60 * 60)); // Hours since first visit
      const baseCount = Math.floor(timeDiff / 2) + 1; // Grows over time
      
      let sessionVisits = sessionStorage.getItem('valooost_session') || 0;
      if (sessionVisits == 0) {
        sessionStorage.setItem('valooost_session', 1);
        // Simulate this visit being added to global count
      }
      
      const displayCount = Math.max(1, baseCount);
      countElement.textContent = displayCount.toLocaleString() + ' (estimated)';
      currentElement.textContent = displayCount;
      
      console.log('ðŸ“Š Fallback counter displayed:', displayCount);
      
      // Try to re-attempt API in background after 5 seconds
      setTimeout(() => {
        console.log('ðŸ”„ Retrying API in background...');
        updateVisitorCounter();
      }, 5000);
    }
    
    // Initialize counter when page loads
    document.addEventListener('DOMContentLoaded', function() {
      console.log('Page loaded, initializing stable counter...');
      updateVisitorCounter();
    });
  </script>

</body>
</html>
